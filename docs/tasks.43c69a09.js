import{g as V,$ as i,v as D,x as L,y as $,o as y,c as b,a as B,z as m,r as P,q as O,A as U,B as N,C as w,D as H,E as te,F as I,G as q,m as ae,H as ne,i as W,w as x,b as j,d as R,t as A,I as le,J as se,K as re,L as ie,M as oe,N as ue,O as M,P as de,Q as ce,R as fe,k as pe,h as me,S as ye,T as ge,U as ve,s as he,V as be}from"./entry.83bd75b3.js";const Ce=["id","name","value","type","required","placeholder","disabled","readonly","autocomplete","spellcheck"],Se={name:"UInput"},we=V({...Se,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},name:{type:String,required:!0},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autocomplete:{type:String,default:null},spellcheck:{type:Boolean,default:null},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>i.input.icon.loading},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},size:{type:String,default:"md",validator(e){return Object.keys(i.input.size).includes(e)}},wrapperClass:{type:String,default:()=>i.input.wrapper},baseClass:{type:String,default:()=>i.input.base},iconBaseClass:{type:String,default:()=>i.input.icon.base},customClass:{type:String,default:null},appearance:{type:String,default:"default",validator(e){return Object.keys(i.input.appearance).includes(e)}},loading:{type:Boolean,default:!1}},emits:["update:modelValue","focus","blur"],setup(e,{emit:a}){const t=e,l=a,n=D(null),s=()=>{var u;t.autofocus&&((u=n.value)==null||u.focus())},c=u=>{l("update:modelValue",u)};L(()=>{setTimeout(()=>{s()},100)});const g=$(()=>t.icon&&t.leading||t.icon&&!t.trailing||t.loading&&!t.trailing),h=$(()=>t.icon&&t.trailing||t.loading&&t.trailing),o=$(()=>H(t.baseClass,i.input.size[t.size],i.input.spacing[t.size],i.input.appearance[t.appearance],g.value&&i.input.leading.spacing[t.size],h.value&&i.input.trailing.spacing[t.size],t.customClass)),f=$(()=>t.loading?t.loadingIcon:t.icon),v=$(()=>H(t.iconBaseClass,i.input.icon.size[t.size],g.value&&i.input.icon.leading.spacing[t.size],h.value&&i.input.icon.trailing.spacing[t.size],t.loading&&"animate-spin")),k=i.input.icon.leading.wrapper,C=i.input.icon.trailing.wrapper;return(u,d)=>(y(),b("div",{class:m(e.wrapperClass)},[B("input",{id:e.name,ref_key:"input",ref:n,name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,spellcheck:e.spellcheck,class:m(o.value),onInput:d[0]||(d[0]=r=>c(r.target.value)),onFocus:d[1]||(d[1]=r=>u.$emit("focus",r)),onBlur:d[2]||(d[2]=r=>u.$emit("blur",r))},null,42,Ce),P(u.$slots,"default"),g.value?(y(),b("div",{key:0,class:m(O(k))},[f.value?(y(),U(N,{key:0,name:f.value,class:m(v.value)},null,8,["name","class"])):w("",!0)],2)):w("",!0),h.value?(y(),b("div",{key:1,class:m(O(C))},[f.value?(y(),U(N,{key:0,name:f.value,class:m(v.value)},null,8,["name","class"])):w("",!0)],2)):w("",!0)],2))}});function K(e,a,...t){if(e in a){let n=a[e];return typeof n=="function"?n(...t):n}let l=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(a).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,K),l}var ke=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ke||{}),$e=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))($e||{});function J({visible:e=!0,features:a=0,ourProps:t,theirProps:l,...n}){var s;let c=Y(l,t),g=Object.assign(n,{props:c});if(e||a&2&&c.static)return z(g);if(a&1){let h=(s=c.unmount)==null||s?0:1;return K(h,{0(){return null},1(){return z({...n,props:{...c,hidden:!0,style:{display:"none"}}})}})}return z(g)}function z({props:e,attrs:a,slots:t,slot:l,name:n}){var s,c;let{as:g,...h}=X(e,["unmount","static"]),o=(s=t.default)==null?void 0:s.call(t,l),f={};if(l){let v=!1,k=[];for(let[C,u]of Object.entries(l))typeof u=="boolean"&&(v=!0),u===!0&&k.push(C);v&&(f["data-headlessui-state"]=k.join(" "))}if(g==="template"){if(o=Q(o??[]),Object.keys(h).length>0||Object.keys(a).length>0){let[v,...k]=o??[];if(!De(v)||k.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${n} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(h).concat(Object.keys(a)).map(d=>d.trim()).filter((d,r,p)=>p.indexOf(d)===r).sort((d,r)=>d.localeCompare(r)).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`));let C=Y((c=v.props)!=null?c:{},h),u=te(v,C);for(let d in C)d.startsWith("on")&&(u.props||(u.props={}),u.props[d]=C[d]);return u}return Array.isArray(o)&&o.length===1?o[0]:o}return I(g,Object.assign({},h,f),{default:()=>o})}function Q(e){return e.flatMap(a=>a.type===q?Q(a.children):[a])}function Y(...e){if(e.length===0)return{};if(e.length===1)return e[0];let a={},t={};for(let l of e)for(let n in l)n.startsWith("on")&&typeof l[n]=="function"?(t[n]!=null||(t[n]=[]),t[n].push(l[n])):a[n]=l[n];if(a.disabled||a["aria-disabled"])return Object.assign(a,Object.fromEntries(Object.keys(t).map(l=>[l,void 0])));for(let l in t)Object.assign(a,{[l](n,...s){let c=t[l];for(let g of c){if(n instanceof Event&&n.defaultPrevented)return;g(n,...s)}}});return a}function Be(e){let a=Object.assign({},e);for(let t in a)a[t]===void 0&&delete a[t];return a}function X(e,a=[]){let t=Object.assign({},e);for(let l of a)l in t&&delete t[l];return t}function De(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Oe=0;function je(){return++Oe}function Pe(){return je()}var G=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(G||{});function E(e){var a;return e==null||e.value==null?null:(a=e.value.$el)!=null?a:e.value}function F(e,a){if(e)return e;let t=a??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function Ve(e,a){let t=D(F(e.value.type,e.value.as));return L(()=>{t.value=F(e.value.type,e.value.as)}),ae(()=>{var l;t.value||!E(a)||E(a)instanceof HTMLButtonElement&&!((l=E(a))!=null&&l.hasAttribute("type"))&&(t.value="button")}),t}var Z=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Z||{});let Te=V({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:a,attrs:t}){return()=>{let{features:l,...n}=e,s={"aria-hidden":(l&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(l&4)===4&&(l&2)!==2&&{display:"none"}}};return J({ourProps:s,theirProps:n,slot:{},attrs:t,slots:a,name:"Hidden"})}}});function xe(e){var a;let t=(a=e==null?void 0:e.form)!=null?a:e.closest("form");if(t){for(let l of t.elements)if(l.tagName==="INPUT"&&l.type==="submit"||l.tagName==="BUTTON"&&l.type==="submit"||l.nodeName==="INPUT"&&l.type==="image"){l.click();return}}}function Ue(e,a,t){let l=D(t==null?void 0:t.value),n=$(()=>e.value!==void 0);return[$(()=>n.value?e.value:l.value),function(s){return n.value||(l.value=s),a==null?void 0:a(s)}]}let Ae=Symbol("GroupContext"),Ee=V({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${Pe()}`}},inheritAttrs:!1,setup(e,{emit:a,attrs:t,slots:l,expose:n}){let s=ne(Ae,null),[c,g]=Ue($(()=>e.modelValue),r=>a("update:modelValue",r),$(()=>e.defaultChecked));function h(){g(!c.value)}let o=D(null),f=s===null?o:s.switchRef,v=Ve($(()=>({as:e.as,type:t.type})),f);n({el:f,$el:f});function k(r){r.preventDefault(),h()}function C(r){r.key===G.Space?(r.preventDefault(),h()):r.key===G.Enter&&xe(r.currentTarget)}function u(r){r.preventDefault()}let d=$(()=>{var r,p;return(p=(r=E(f))==null?void 0:r.closest)==null?void 0:p.call(r,"form")});return L(()=>{W([d],()=>{if(!d.value||e.defaultChecked===void 0)return;function r(){g(e.defaultChecked)}return d.value.addEventListener("reset",r),()=>{var p;(p=d.value)==null||p.removeEventListener("reset",r)}},{immediate:!0})}),()=>{let{id:r,name:p,value:S,...T}=e,_={checked:c.value},ee={id:r,ref:f,role:"switch",type:v.value,tabIndex:0,"aria-checked":c.value,"aria-labelledby":s==null?void 0:s.labelledby.value,"aria-describedby":s==null?void 0:s.describedby.value,onClick:k,onKeyup:C,onKeypress:u};return I(q,[p!=null&&c.value!=null?I(Te,Be({features:Z.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:c.value,name:p,value:S})):null,J({ourProps:ee,theirProps:{...t,...X(T,["modelValue","defaultChecked"])},slot:_,attrs:t,slots:l,name:"Switch"})])}}});const Ne={name:"UToggle"},ze=V({...Ne,props:{modelValue:{type:Boolean,default:!1},iconOn:{type:String,default:null},iconOff:{type:String,default:null},baseClass:{type:String,default:()=>i.toggle.base},activeClass:{type:String,default:()=>i.toggle.active},inactiveClass:{type:String,default:()=>i.toggle.inactive},containerBaseClass:{type:String,default:()=>i.toggle.container.base},containerActiveClass:{type:String,default:()=>i.toggle.container.active},containerInactiveClass:{type:String,default:()=>i.toggle.container.inactive},iconBaseClass:{type:String,default:()=>i.toggle.icon.base},iconActiveClass:{type:String,default:()=>i.toggle.icon.active},iconInactiveClass:{type:String,default:()=>i.toggle.icon.inactive},iconOnClass:{type:String,default:()=>i.toggle.icon.on},iconOffClass:{type:String,default:()=>i.toggle.icon.off}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,l=a,n=$({get(){return t.modelValue},set(s){l("update:modelValue",s)}});return(s,c)=>(y(),U(O(Ee),{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=g=>n.value=g),class:m([n.value?e.activeClass:e.inactiveClass,e.baseClass])},{default:x(()=>[B("span",{class:m([n.value?e.containerActiveClass:e.containerInactiveClass,e.containerBaseClass])},[e.iconOn?(y(),b("span",{key:0,class:m([n.value?e.iconActiveClass:e.iconInactiveClass,e.iconBaseClass]),"aria-hidden":"true"},[j(N,{name:e.iconOn,class:m(e.iconOnClass)},null,8,["name","class"])],2)):w("",!0),e.iconOff?(y(),b("span",{key:1,class:m([n.value?e.iconInactiveClass:e.iconActiveClass,e.iconBaseClass]),"aria-hidden":"true"},[j(N,{name:e.iconOff,class:m(e.iconOffClass)},null,8,["name","class"])],2)):w("",!0)],2)]),_:1},8,["modelValue","class"]))}}),He=["for"],Ie={name:"UFormGroup"},Re=V({...Ie,props:{name:{type:String,default:null},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},hint:{type:String,default:null},wrapperClass:{type:String,default:()=>i.formGroup.wrapper},containerClass:{type:String,default:()=>i.formGroup.container},labelClass:{type:String,default:()=>i.formGroup.label},labelWrapperClass:{type:String,default:()=>i.formGroup.labelWrapper},descriptionClass:{type:String,default:()=>i.formGroup.description},requiredClass:{type:String,default:()=>i.formGroup.required},hintClass:{type:String,default:()=>i.formGroup.hint},helpClass:{type:String,default:()=>i.formGroup.help}},setup(e){return(a,t)=>(y(),b("div",{class:m(e.wrapperClass)},[e.label||a.$slots.label?(y(),b("div",{key:0,class:m(e.labelWrapperClass)},[B("label",{for:e.name,class:m(e.labelClass)},[P(a.$slots,"label",{},()=>[R(A(e.label),1)]),e.required?(y(),b("span",{key:0,class:m(e.requiredClass)},"*",2)):w("",!0)],10,He),a.$slots.hint||e.hint?(y(),b("span",{key:0,class:m(e.hintClass)},[P(a.$slots,"hint",{},()=>[R(A(e.hint),1)])],2)):w("",!0)],2)):w("",!0),e.description?(y(),b("p",{key:1,class:m(e.descriptionClass)},A(e.description),3)):w("",!0),B("div",{class:m(!!e.label&&e.containerClass)},[P(a.$slots,"default"),e.help?(y(),b("p",{key:0,class:m(e.helpClass)},A(e.help),3)):w("",!0)],2)],2))}}),Ge={name:"UCard",inheritAttrs:!1},Le=V({...Ge,props:{padded:{type:Boolean,default:!1},rounded:{type:Boolean,default:!0},baseClass:{type:String,default:()=>i.card.base},backgroundClass:{type:String,default:()=>i.card.background},borderColorClass:{type:String,default:()=>i.card.border},shadowClass:{type:String,default:()=>i.card.shadow},ringClass:{type:String,default:()=>i.card.ring},roundedClass:{type:String,default:()=>i.card.rounded,validator(e){return!e||["sm","md","lg","xl","2xl","3xl"].map(a=>`rounded-${a}`).includes(e)}},bodyClass:{type:String,default:()=>i.card.body},bodyBackgroundClass:{type:String,default:null},headerClass:{type:String,default:()=>i.card.header},headerBackgroundClass:{type:String,default:null},footerClass:{type:String,default:()=>i.card.footer},footerBackgroundClass:{type:String,default:null},customClass:{type:String,default:null}},setup(e){const a=e,t=$(()=>H(a.baseClass,a.padded&&a.rounded&&a.roundedClass,!a.padded&&a.rounded&&a.roundedClass&&`sm:${a.roundedClass}`,a.ringClass,a.shadowClass,a.backgroundClass,a.customClass));return(l,n)=>(y(),U(se(l.$attrs.onSubmit?"form":"div"),le({class:t.value},l.$attrs),{default:x(()=>[l.$slots.header?(y(),b("div",{key:0,class:m([e.headerClass,e.headerBackgroundClass,e.borderColorClass,!!l.$slots.default&&"border-b"])},[P(l.$slots,"header")],2)):w("",!0),B("div",{class:m([e.bodyClass,e.bodyBackgroundClass])},[P(l.$slots,"default")],2),l.$slots.footer?(y(),b("div",{key:1,class:m([e.footerClass,e.footerBackgroundClass,e.borderColorClass,(!!l.$slots.default||!l.$slots.default&&!!l.$slots.header)&&"border-t"])},[P(l.$slots,"footer")],2)):w("",!0)]),_:3},16,["class"]))}});function qe(...e){var C;const a=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(a);let[t,l,n={}]=e;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof l!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=de(),c=()=>null,g=()=>s.isHydrating?s.payload.data[t]:s.static.data[t];n.server=n.server??!0,n.default=n.default??c,n.getCachedData=n.getCachedData??g,n.lazy=n.lazy??!1,n.immediate=n.immediate??!0,n.deep=n.deep??re.deep;const h=()=>![null,void 0].includes(n.getCachedData(t));if(!s._asyncData[t]||!n.immediate){(C=s.payload._errors)[t]??(C[t]=null);const u=n.deep?D:ie;s._asyncData[t]={data:u(n.getCachedData(t)??n.default()),pending:D(!h()),error:oe(s.payload._errors,t),status:D("idle")}}const o={...s._asyncData[t]};o.refresh=o.execute=(u={})=>{if(s._asyncDataPromises[t]){if(u.dedupe===!1)return s._asyncDataPromises[t];s._asyncDataPromises[t].cancelled=!0}if((u._initial||s.isHydrating&&u._initial!==!1)&&h())return Promise.resolve(n.getCachedData(t));o.pending.value=!0,o.status.value="pending";const d=new Promise((r,p)=>{try{r(l(s))}catch(S){p(S)}}).then(r=>{if(d.cancelled)return s._asyncDataPromises[t];let p=r;n.transform&&(p=n.transform(r)),n.pick&&(p=Me(p,n.pick)),s.payload.data[t]=p,o.data.value=p,o.error.value=null,o.status.value="success"}).catch(r=>{if(d.cancelled)return s._asyncDataPromises[t];o.error.value=ce(r),o.data.value=O(n.default()),o.status.value="error"}).finally(()=>{d.cancelled||(o.pending.value=!1,delete s._asyncDataPromises[t])});return s._asyncDataPromises[t]=d,s._asyncDataPromises[t]};const f=()=>o.refresh({_initial:!0}),v=n.server!==!1&&s.payload.serverRendered;{const u=fe();if(u&&!u._nuxtOnBeforeMountCbs){u._nuxtOnBeforeMountCbs=[];const r=u._nuxtOnBeforeMountCbs;u&&(ue(()=>{r.forEach(p=>{p()}),r.splice(0,r.length)}),M(()=>r.splice(0,r.length)))}v&&s.isHydrating&&(o.error.value||h())?(o.pending.value=!1,o.status.value=o.error.value?"error":"success"):u&&(s.payload.serverRendered&&s.isHydrating||n.lazy)&&n.immediate?u._nuxtOnBeforeMountCbs.push(f):n.immediate&&f(),n.watch&&W(n.watch,()=>o.refresh());const d=s.hook("app:data:refresh",async r=>{(!r||r.includes(t))&&await o.refresh()});u&&M(d)}const k=Promise.resolve(s._asyncDataPromises[t]).then(()=>o);return Object.assign(k,o),k}function Me(e,a){const t={};for(const l of a)t[l]=e[l];return t}const Fe={class:"w-full my-[50px]"},We=B("h1",{class:"mb-12 text-6xl font-bold u-text-white"}," Todo List. ",-1),Ke=["onSubmit"],Je={class:"py-2"},Qe={class:"flex items-center justify-between"},Ye=["onClick"],Ze=V({__name:"tasks",async setup(e){let a,t;const l=pe();me(),D(),D(!1);const n=D(!1),s=D(""),{data:c}=([a,t]=ye(async()=>qe("testdatabase",async()=>{const{data:f}=await l.from("testdatabase").select("id, title, completed").order("created_at");return f})),a=await a,t(),a);async function g(){if(s.value.trim().length===0)return;n.value=!0;const f=s.value.slice(4),{data:v}=await l.from("testdatabase").upsert({id:f,title:s.value,completed:!1}).select("id, title, completed").single();c.value.push(v),s.value="",n.value=!1}const h=async f=>{await l.from("testdatabase").update({completed:f.completed}).match({id:f.id})},o=async f=>{c.value=c.value.filter(v=>v.id!==f.id),await l.from("testdatabase").delete().match({id:f.id})};return(f,v)=>{var p;const k=we,C=he,u=ze,d=Re,r=Le;return y(),b("div",Fe,[We,B("form",{class:"flex gap-2 my-2",onSubmit:ve(g,["prevent"])},[j(k,{modelValue:O(s),"onUpdate:modelValue":v[0]||(v[0]=S=>ge(s)?s.value=S:null),loading:O(n),class:"w-full",size:"xl",variant:"white",type:"text",name:"newTask",placeholder:"Make a coffee",autofocus:"",autocomplete:"off"},null,8,["modelValue","loading"]),j(C,{type:"submit",variant:"white"},{default:x(()=>[R(" Add ")]),_:1})],40,Ke),((p=O(c))==null?void 0:p.length)>0?(y(),U(r,{key:0,"body-class":"px-6 py-2 overflow-hidden"},{default:x(()=>[B("ul",null,[(y(!0),b(q,null,be(O(c),S=>(y(),b("li",{key:S.id,class:"border-b border-gray-200 divide-y divide-gray-200"},[B("div",Je,[j(d,{"label-class":`block font-medium ${S.completed?"line-through u-text-gray-500":"u-text-gray-700"}`,label:S.title,name:String(S.id),"wrapper-class":"flex items-center justify-between w-full"},{default:x(()=>[B("div",Qe,[B("div",{onClick:T=>h(S)},[j(u,{modelValue:S.completed,"onUpdate:modelValue":T=>S.completed=T,name:String(S.id),"icon-off":"heroicons-solid:x","icon-on":"heroicons-solid:check"},null,8,["modelValue","onUpdate:modelValue","name"])],8,Ye),j(C,{class:"ml-3 text-red-600",size:"sm",variant:"transparent",icon:"i-heroicons-outline-trash",onClick:T=>o(S)},null,8,["onClick"])])]),_:2},1032,["label-class","label","name"])])]))),128))])]),_:1})):w("",!0)])}}});export{Ze as default};
